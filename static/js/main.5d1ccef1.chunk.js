(this["webpackJsonpreact-user-directory"]=this["webpackJsonpreact-user-directory"]||[]).push([[0],{1:function(t,e,a){t.exports={notice:"UserCard_notice__gdGw4",container:"UserCard_container__KjLn0",card__container:"UserCard_card__container__10T6l",card__desc:"UserCard_card__desc__2yz51",card__item:"UserCard_card__item__1pg_h",card__email:"UserCard_card__email__4MCfG",bg__red:"UserCard_bg__red__37Uay",bg__green:"UserCard_bg__green__1sCSd",bg__blue:"UserCard_bg__blue__2qDC7"}},20:function(t,e,a){t.exports={wrapper:"Wrapper_wrapper__2gcWR"}},22:function(t,e,a){t.exports={loading__skeleton:"LoadingSkeleton_loading__skeleton__a6FN5",pulse:"LoadingSkeleton_pulse__3mlRe"}},23:function(t,e,a){t.exports=a(46)},45:function(t,e,a){},46:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(19),o=a.n(r),s=a(3),c=a(4),l=a(6),u=a(5),d=a(20),h=a.n(d),_=function(t){return i.a.createElement("main",{className:"".concat(h.a.wrapper)},t.children)},C=a(7),m=a.n(C),S=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).componentDidMount=function(){var t=localStorage.getItem("colorState"),e="true"===t,a="true"===localStorage.getItem("cityState");null!==t&&n.setState({btnColorState:e,btnCitiesState:a},(function(){this.props.filterColorState(this.state.btnColorState),this.props.filterCitiesState(this.state.btnCitiesState)}))},n.handleBtnColorClick=function(){n.setState({btnColorState:(n.state.btnColorState,!n.state.btnColorState),btnCitiesState:n.state.btnCitiesState?!n.state.btnCitiesState:n.state.btnCitiesState},(function(){this.props.filterColorState(this.state.btnColorState),this.props.filterCitiesState(this.state.btnCitiesState),localStorage.setItem("colorState",this.state.btnColorState),localStorage.setItem("cityState",this.state.btnCitiesState)}))},n.handleBtnCitiesClick=function(){n.setState({btnColorState:n.state.btnColorState?!n.state.btnColorState:n.state.btnColorState,btnCitiesState:(n.state.btnCitiesState,!n.state.btnCitiesState)},(function(){this.props.filterColorState(this.state.btnColorState),this.props.filterCitiesState(this.state.btnCitiesState),localStorage.setItem("colorState",this.state.btnColorState),localStorage.setItem("cityState",this.state.btnCitiesState)}))},n.state={btnColorState:!1,btnCitiesState:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var t=this.state.btnColorState?"".concat(m.a.navigation__item," ").concat(m.a.navigation__item_active):"".concat(m.a.navigation__item),e=this.state.btnCitiesState?"".concat(m.a.navigation__item," ").concat(m.a.navigation__item_active):"".concat(m.a.navigation__item);return i.a.createElement("div",{className:"".concat(m.a.navigation__container)},i.a.createElement("h5",null,"Filter By:"),i.a.createElement("div",{id:"btnFilterColor",className:t,onClick:this.handleBtnColorClick},i.a.createElement("span",null,"Color")),i.a.createElement("div",{id:"btnFilterCity",className:e,onClick:this.handleBtnCitiesClick},i.a.createElement("span",null,"City")))}}]),a}(n.Component),g=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("header",null,i.a.createElement("h1",null,"User Directory"),i.a.createElement("div",null,i.a.createElement(S,{filterColorState:this.props.filterColorState,filterCitiesState:this.props.filterCitiesState})))}}]),a}(n.Component),f=a(8),b=a(9),v=a(21),p=a.n(v),D=function(t,e){var a=Array.from({length:e},(function(t){return[]}));return t.forEach((function(t,e){return a[e%a.length].push(t)})),a},E=function(t){var e=t.filter((function(t){return t.dob.age>20&&t.dob.age<57})),a=t.filter((function(t){return t.dob.age>56})),n=t.filter((function(t){return t.dob.age<21}));return[].concat(e,a,n)},y=function(t){return Object(f.a)(t).sort((function(t,e){return t.location.city>e.location.city||t.location.city===e.location.city&&t.location.state>e.location.state?1:-1}))},w=a(22),k=a.n(w),j=function(){return i.a.createElement("div",{className:"".concat(k.a.loading__skeleton)})},O=a(1),U=a.n(O),B=function(t){var e;return t.userData?(e=t.userData.dob.age<21?"".concat(U.a.bg__red):t.userData.dob.age>20&&t.userData.dob.age<57?"".concat(U.a.bg__green):"".concat(U.a.bg__blue),i.a.createElement("div",{className:"".concat(U.a.card__container)},i.a.createElement("div",{className:"".concat(U.a.card__item," ").concat(e)},i.a.createElement("figure",null,i.a.createElement("img",{src:t.userData.picture.large,alt:"".concat(t.userData.name.first," ").concat(t.userData.name.last)})),i.a.createElement("div",{className:"".concat(U.a.card__desc)},i.a.createElement("h6",null,i.a.createElement("div",null,"".concat(t.userData.name.title,". ").concat(t.userData.name.first," ").concat(t.userData.name.last)),i.a.createElement("div",null,t.userData.dob.age)),i.a.createElement("address",null,i.a.createElement("div",null,"".concat(t.userData.location.city,", ").concat(t.userData.location.state,", ").concat(t.userData.location.postcode))),i.a.createElement("div",{className:"".concat(U.a.card__email)},t.userData.email))))):i.a.createElement("div",{className:"".concat(U.a.card__container)},i.a.createElement("div",{className:"".concat(U.a.card__item)},i.a.createElement("figure",null,i.a.createElement(j,null)),i.a.createElement("div",{className:"".concat(U.a.card__desc)},i.a.createElement("h6",null,i.a.createElement("div",null,i.a.createElement(j,null)),i.a.createElement("div",null,i.a.createElement(j,null))),i.a.createElement("address",null,i.a.createElement(j,null)),i.a.createElement("div",{className:"".concat(U.a.card__email)},i.a.createElement(j,null)))))},N=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).componentDidMount=function(){window.addEventListener("resize",n.updateDimensions.bind(Object(b.a)(n))),p.a.get("https://randomuser.me/api/?results=100").then((function(t){n.setState({originalData:t.data.results,chunkedData:D(t.data.results,10),isLoading:!1},(function(){this.setState({sortedDataByColor:E(this.state.chunkedData[0]),sortedDataByCity:y(this.state.chunkedData[0]),newChunkedData:this.state.chunkedData[0]})}))})).catch((function(t){n.setState({errorMessage:t,isLoading:!1})}))},n.handleScroll=function(t){var e=n.cardContainerRef,a=n.state.windowWidth,i=e.current.scrollLeft,r=e.current.scrollTop,o=e.current.scrollWidth,s=e.current.scrollHeight,c=e.current.clientHeight;a>640?o-i===a&&n.setState({getMoreUsers:!0},(function(){this.state.scrolledCount<this.state.scrolledCountMax&&setTimeout(function(){this.setState({scrolledCount:t+1,getMoreUsers:!1},(function(){var t=Object(f.a)(this.state.newChunkedData).concat(this.state.chunkedData[this.state.scrolledCount]);this.setState({newChunkedData:t,sortedDataByColor:E(t),sortedDataByCity:y(t)})}))}.bind(this),500)})):s-r===c+130&&n.setState({getMoreUsers:!0},(function(){this.state.scrolledCount<this.state.scrolledCountMax&&setTimeout(function(){this.setState({scrolledCount:t+1,getMoreUsers:!1},(function(){var t=Object(f.a)(this.state.newChunkedData).concat(this.state.chunkedData[this.state.scrolledCount]);this.setState({newChunkedData:t,sortedDataByColor:E(t),sortedDataByCity:y(t)})}))}.bind(this),500)}))},n.cardContainerRef=i.a.createRef(),n.state={originalData:[],chunkedData:[],newChunkedData:[],sortedDataByColor:[],sortedDataByCity:[],isLoading:!0,errorMessage:null,scrolledCount:0,scrolledCountMax:9,windowWidth:window.innerWidth,windowHeight:window.innerHeight,getMoreUsers:!1},n}return Object(c.a)(a,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"updateDimensions",value:function(){this.setState({windowWidth:window.innerWidth})}},{key:"renderContent",value:function(){var t,e=this.props.isColorSelected,a=this.props.isCitiesSelected;return!1===e?(t=this.state.newChunkedData,a&&(t=this.state.sortedDataByCity)):!0===e?(t=this.state.sortedDataByColor,!0===a&&(t=this.state.sortedDataByCity)):t=this.state.newChunkedData,i.a.createElement(i.a.Fragment,null,this.state.isLoading?Object(f.a)(new Array(5)).map((function(t,e){return i.a.createElement(B,{key:e})})):t.map((function(t,e){return i.a.createElement(B,{key:e,userData:t})})))}},{key:"render",value:function(){var t,e=this;return this.state.windowWidth<641&&(t=this.state.windowHeight-120),i.a.createElement("section",{ref:this.cardContainerRef,className:"".concat(U.a.container),onScroll:function(){return e.handleScroll(e.state.scrolledCount)},style:{height:t}},this.renderContent(),this.state.getMoreUsers&&this.state.scrolledCount<9?i.a.createElement("div",{className:"".concat(U.a.notice)},"Loading more data.."):null)}}]),a}(n.Component),M=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).handleColorStateChange=function(t){n.setState({isColorSelected:t})},n.handleCitiesStateChange=function(t){n.setState({isCitiesSelected:t})},n.state={isColorSelected:null,isCitiesSelected:null},n}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement(_,null,i.a.createElement(g,{filterColorState:this.handleColorStateChange,filterCitiesState:this.handleCitiesStateChange}),i.a.createElement(N,{isColorSelected:this.state.isColorSelected,isCitiesSelected:this.state.isCitiesSelected}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(45);o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},7:function(t,e,a){t.exports={navigation__container:"Header_navigation__container__1troj",navigation__item:"Header_navigation__item__3Usg1",navigation__item_active:"Header_navigation__item_active__uLOQh"}}},[[23,1,2]]]);
//# sourceMappingURL=main.5d1ccef1.chunk.js.map